"use strict";const common={ajax:{returnFetch:function(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(t)}).then(e=>e.json()).then(e=>e).catch(()=>{console.log("error")})},postJson:function(e,t,o=!1){let n=500;return apps.layouts.loadingMask("play"),fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(t)}).then(e=>{if(200===e.status)return e.json();n=e.status,o&&console.error(e)}).then(e=>(o&&console.log(e),this.procAjaxSuccessData(e),e.return)?e:{}).catch(()=>{this.procAjaxErrorData(n)})},postJsonNoMask:function(e,t,o=!1){let n=500;return fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(t)}).then(e=>{if(200===e.status)return e.json();n=e.status,o&&console.error(e)}).then(e=>(o&&console.log(e),this.procAjaxSuccessData(e),e.return)?e:{}).catch(()=>{this.procAjaxErrorData(n)})},postFormID:function(e,t,o=!1){let n=document.getElementById(t);this.postFormElement(e,n,o)},postFormSelector:function(e,t,o=!1){let n=document.querySelector(t);this.postFormElement(e,n,o)},postFormElement:function(e,t,o=!1){let n=new FormData(t);this.postFormData(e,n,o)},postFormData:function(e,t,o=!1){let n=500;return apps.layouts.loadingMask("play"),fetch(e,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:t}).then(e=>{if(200===e.status)return e.json();n=e.status,o&&console.error(e)}).then(e=>(o&&console.log(e),this.procAjaxSuccessData(e),e.return)?e:{}).catch(()=>{this.procAjaxErrorData(n)})},procAjaxSuccessData:function(e){if(apps.layouts.loadingMask("stop"),e.log&&console.log(e.log),e.values&&(console.log(e.values),"object"==typeof e.values))for(let t in e.values)document.querySelector(t).value=e.values[t];if(e.valueId){let o=document.getElementById(e.valueId.selector);o.value=e.valueId.data}if(e.after){let n=document.getElementById(e.after.id),r=document.createElement(e.after.tag);r.innerHTML=e.after.data,n.parentNode.insertBefore(r,n.nextSibling)}if(e.before){let a=document.getElementById(e.before.id),l=document.createElement(e.before.tag);l.innerHTML=e.before.data,a.parentNode.insertBefore(l,a.beforeSibl)}if(e.append){let s=document.getElementById(e.append.id),i=document.createElement(e.append.tag);i.innerHTML=e.append.data,s.appendChild(i)}if(e.layoutsPage){let c=document.getElementById("frm-config"),u=document.getElementById("frm-replace"),d=document.getElementById("frm-sources"),p=document.getElementById("frm-contents"),m=document.getElementById("frm-plugins");c.innerHTML=e.layoutsPage.config,u.innerHTML=e.layoutsPage.replace,d.innerHTML=e.layoutsPage.sources,p.innerHTML=e.layoutsPage.contents,m.innerHTML=e.layoutsPage.plugins}if(e.html&&"object"==typeof e.html){let y=document.getElementById(e.html.id);y.innerHTML=e.html.source}if(e.text&&"object"==typeof e.text){let h=document.getElementById(e.text.id);h.textContent=e.text.source}if(e.show){let f=document.querySelector(e.show);f.style.display="block"}if(e.hide){let g=document.querySelector(e.hide);g.style.display="none"}if(e.addClass){let v=document.querySelector(e.addClass.selector);"object"!=typeof e.addClass.name?v.classList.add(e.addClass.name):e.addClass.name.forEach(e=>{v.classList.add(e)})}if(e.removeClass){let $=document.querySelector(e.removeClass.selector);"object"!=typeof e.removeClass.name?$.classList.remove(e.removeClass.name):e.removeClass.name.forEach(e=>{$.classList.remove(e)})}if(e.alert&&alert(e.alert),e.focus&&document.querySelector(e.focus).focus(),e.empty&&(Array.isArray(e.empty)?e.empty.forEach(function(e){document.querySelector(e).innerHTML=""}):document.querySelector(e.empty).innerHTML=""),e.remove&&(Array.isArray(e.remove)?e.remove.forEach(function(e){document.querySelector(e).remove()}):document.querySelector(e.remove).remove()),e.replace&&window.location.replace(e.replace),e.reload&&window.location.reload(),e.back&&window.history.back(1),e.function&&"loadingMask"===e.function.name){let T=e.function.type??null,E=e.function.delay??null;apps.layouts.loadingMask(T,E)}e.modalAlert&&apps.layouts.showModalTemplate(e.modalAlert),e.toastAlert&&apps.layouts.showToastTemplate(e.toastAlert)},procAjaxErrorData:function(e){if(apps.layouts.loadingMask("stop"),419===e)return apps.layouts.showModalTemplate({type:"warning",size:"sm",icon:!0,title:"419 에러",content:`장시간 사용하지 않아 새로고침 합니다.<br> 다시 시도해 주세요!`,event:{type:"reload"}});apps.layouts.showModalTemplate({type:"error",size:"sm",icon:!0,title:"500 에러",content:`서버에러 입니다. 관리자에게 문의 하세요!`,event:{type:"reload"}})}},link:{params:{changeType:(e,t,o)=>(e=e.replace(/&amp;/g,"&")).includes(`${t}=`)?e.replace(/type=([^&]*)/,`${t}=${o}`):(""===e?"?":e+"&")+t+"="+o}},copyTextarea:function(e){navigator.clipboard.writeText(e).then(function(){apps.layouts.showToastTemplate({type:"success",title:"내용이 복사 되었습니다."})}).catch(function(e){apps.layouts.showToastTemplate({title:"복사 실패"})})},addComma:e=>isNaN(e)?0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),removeCommas:e=>e&&0!==e.length?Number(e.split(",").join("")):0,updateElements(e,t){let o=document.querySelectorAll(e[t].selector);for(let n of o)n[t]=e[t].data},togglePassword(e){let t=document.querySelector(e);"password"===t.type?t.type="text":t.type="password"},addPhoneHyphen:e=>e.replace(/^(\d{2,3})(\d{3,4})(\d{4})$/,"$1-$2-$3"),autoPhoneHyphen(e){e.value=e.value.replace(/[^0-9]/g,"").replace(/^(\d{2,3})(\d{3,4})(\d{4})$/,"$1-$2-$3")},autoDateHyphen(e){console.log(e.value),e.value=e.value.replace(/[^0-9]/g,"").replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3")},addBusinessNumberHyphen:e=>e.replace(/^(\d{3})(\d{2,3})(\d{5})$/,"$1-$2-$3"),autoBusinessNumberHyphen(e){e.value=e.value.replace(/[^0-9]/g,"").replace(/^(\d{3})(\d{2,3})(\d{5})$/,"$1-$2-$3")},priceToHangul(e){let t=parseInt((e+"").replace(/[^0-9]/g,""),10)+"";if("0"===t)return"영";let o=["영","일","이","삼","사","오","육","칠","팔","구",],n=["","만","억","조"],r=["천","백","십",""],a=[],l=Math.ceil(t.length/4);t=t.padStart(4*l,"0");let s=t.match(/[\w\W]{4}/g),i=s.length-1;for(l=0;i>=0;i--,l++){let c=u(s[i]);""!=c&&a.unshift(c+n[l])}function u(e){let t="";for(let n=0;n<e.length;n++){let a=e[n];"0"!=a&&(t+=o[a]+r[n])}return t}return a.join("")},resetValueId(e,t){document.getElementById(e).value=t},litepicker(e){document.addEventListener("DOMContentLoaded",function(){window.Litepicker&&new Litepicker({element:document.getElementById(e),lang:"ko",buttonText:{previousMonth:'<svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 6l-6 6l6 6" /></svg>',nextMonth:'<svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 6l6 6l-6 6" /></svg>'},setup(e){e.on("show",()=>{let t=e.getDate();t&&(t.setMonth(t.getMonth()),e.gotoDate(t))})}})})},validate:{email:function(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)},required:function(e){return!/^[\s]*$/.test(e)}},removeId:function(e){document.getElementById(e).remove()}};